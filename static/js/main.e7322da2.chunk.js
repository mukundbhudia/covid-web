(this["webpackJsonpcovid-web"]=this["webpackJsonpcovid-web"]||[]).push([[0],{108:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(33),c=t.n(o),l=t(17),s=t(112),i=(t(80),t(81),t(113)),d=(t(82),function(e){var a=e.errorData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h3",null,"Error"),r.a.createElement("p",null,"There's been an error with COVID-19 Dashboard :(. ",r.a.createElement("br",null)," Below are the details:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"card bg-light error-border border-danger mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("pre",{className:"error"},JSON.stringify(a,null,2))))))))}),m=t(14),u=t(10),y=t(12),p=t(24),v=t.n(p),h=function(e){return"number"===typeof e},b=function(e,a){for(var t,n=e.length,r=a-1,o=Array(n).fill(NaN),c=0,l=0,s=0;l<n&&s<r;l++)t=e[l],h(t)&&(c+=t,s++);for(;l<n;l++)t=e[l],h(t)&&(c+=t),h(e[l-a])&&(c-=e[l-a]),o[l]=c/a;return o.slice(a-1)},f={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",darkPurple:"rgb(102, 68, 170)",grey:"rgb(201, 203, 207)",darkGrey:"rgb(160, 161, 164)",progressBadGrey:"#b0b0b0"},g={purple:"#4527a0",red:"#d32f2f",green:"#00c853",blue:"#0277bd",yellow:"#fbc02d",orange:"#ff7043"},E=function(e){var a=e.chartTitle,t=e.casesToHide,o=e.data,c=e.currentCases,l=r.a.createRef(),s=Object(n.useState)("linear"),i=Object(y.a)(s,2),d=i[0],m=i[1],u=Object(n.useState)("line"),p=Object(y.a)(u,2),h=p[0],g=p[1],E=Object(n.useState)(7),C=Object(y.a)(E,2),N=C[0],T=C[1],k=[],w=[],x=[],L=[],D=[],S=function(e,a){k.push(e.toLocaleDateString()),w.push({x:e,y:a.confirmed}),L.push({x:e,y:a.deaths}),x.push({x:e,y:a.confirmedCasesToday}),D.push({x:e,y:a.deathsToday})},j=!1;o.forEach((function(e,a){var t=e;if(t.confirmed>0){var n=new Date(t.day);if(!j&&a>0){var r=o[a-1];n=new Date(r.day),j=!0,S(n,r),n=new Date(t.day),S(n,t)}else S(n,t)}}));var O=new Date;c.confirmedCasesToday>=0&&c.deathsToday>=0||(c.confirmedCasesToday<0?c.confirmedCasesToday="N/A":c.deathsToday<0&&(c.deathsToday="N/A")),S(O,c);var B=o.map((function(e,a){return e.confirmedCasesToday})),K=o.map((function(e,a){return e.deathsToday})),A=b(B,N),U=b(K,N),M=k.map((function(e,a){return{x:new Date(e),y:A[a]}})),X=k.map((function(e,a){return{x:new Date(e),y:U[a]}})),F={type:h,data:{labels:k,datasets:[{type:h,label:"Cumulative confirmed cases",fill:!1,backgroundColor:f.red,borderColor:f.red,order:0,data:w,hidden:t.confirmed},{type:h,label:"Cumulative deaths",fill:!1,backgroundColor:f.grey,borderColor:f.grey,order:1,data:L,hidden:t.deaths},{type:"bar",label:"Daily confirmed cases",fill:!1,backgroundColor:f.purple,borderColor:f.purple,order:3,data:x,hidden:t.confirmedToday},{type:"line",label:"Daily confirmed ".concat(N," day moving average"),fill:!1,backgroundColor:f.darkPurple,borderColor:f.darkPurple,order:2,data:M.slice(3,-3),hidden:t.confirmedTodayMovingAverage},{type:"bar",label:"Daily deaths",fill:!1,backgroundColor:f.yellow,borderColor:f.yellow,order:5,data:D,hidden:t.deathsToday},{type:"line",label:"Daily deaths ".concat(N," day moving average"),fill:!1,backgroundColor:f.darkGrey,borderColor:f.darkGrey,order:4,data:X.slice(3,-3),hidden:t.deathsTodayMovingAverage}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"top"},animation:{duration:0},title:{display:!0,text:a},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"";return t&&(t+=": "),t+=e.yLabel.toLocaleString(),t}}},elements:{point:{radius:0}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Date"}}],yAxes:[{display:!0,type:d,scaleLabel:{display:!0,labelString:"Number of cases"},ticks:{beginAtZero:!0,callback:function(e){return e.toLocaleString()}}}]}}};return Object(n.useEffect)((function(){var e=l.current.getContext("2d"),a=new v.a(e,F);return function(){return a.destroy()}}),[l,F]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chart timeSeries"},r.a.createElement("canvas",{className:"canvas",ref:l})),r.a.createElement("div",{className:"btn-toolbar justify-content-end",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-tip":"Moving average period in days (".concat(N,")")},r.a.createElement("input",{type:"range",className:"movingAverage custom-range",min:"1",max:30,id:"movingAverageSlider",value:N,onChange:function(e){T(e.target.value)}})),r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("linear"===d?"active":"")},r.a.createElement("input",{type:"radio",name:"data-type",onClick:function(){m("linear")}})," Linear"),r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("logarithmic"===d?"active":"")},r.a.createElement("input",{type:"radio",name:"data-type",onClick:function(){m("logarithmic")}})," Logarithmic")),r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("line"===h?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){g("line")}})," Line"),r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("bar"===h?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){g("bar")}})," Bar"))))},C=t(38),N=function(e){var a=e.lastUpdated,t=C.a(new Date(parseInt(a)));return r.a.createElement("div",{className:"col-sm float-right"},r.a.createElement("p",{className:"lastUpdatedTimeStamp float-right"},"Data last updated: ",r.a.createElement("span",{id:"lastUpdated"},t)))},T=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-warning",role:"alert"},r.a.createElement("h5",null,"New deaths today"),r.a.createElement("div",{id:"deathsTodayCounter",className:"total-cases text-yellow"},a>=0?a.toLocaleString():"N/A")))},k=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-purple",role:"alert"},r.a.createElement("h5",null,"New confirmed cases today"),r.a.createElement("div",{id:"confirmedTodayCounter",className:"total-cases text-purple"},a>=0?a.toLocaleString():"N/A")))},w=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-danger",role:"alert"},r.a.createElement("h5",null,"Total confirmed"),r.a.createElement("div",{id:"confirmedCounter",className:"total-cases text-danger"},a.toLocaleString())))},x=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-primary",role:"alert"},r.a.createElement("h5",null,"Total active"),r.a.createElement("div",{id:"activeCounter",className:"total-cases text-primary"},a.toLocaleString())))},L=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-success",role:"alert"},r.a.createElement("h5",null,"Total recovered"),r.a.createElement("div",{id:"recoveredCounter",className:"total-cases text-success"},a.toLocaleString())))},D=function(e){var a=e.caseCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert alert-dark",role:"alert"},r.a.createElement("h5",null,"Total deaths"),r.a.createElement("div",{id:"deathsCounter",className:"total-cases text-dark"},a.toLocaleString())))},S=function(e){var a=function(e){return e.map((function(a,t){var n=e.reduce((function(e,a){return e+a.data}),0);return 0===n?0:(t+1===e.length?a.percentage=Math.ceil(a.data/n*100)-1:a.percentage=Math.ceil(a.data/n*100),a)}))}(e.dataSet);return r.a.createElement("div",{className:"progress"},a.map((function(e,a){return e.percentage>0?r.a.createElement("div",{key:a,className:"progress-bar",role:"progressbar",style:{width:"".concat(e.percentage,"%"),backgroundColor:"".concat(f[e.color])},"aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100","data-toggle":"tooltip","data-placement":"top",title:e.label},e.percentage,"%"):null})))},j=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},"Confirmed/Active"),r.a.createElement(S,{dataSet:a}))))},O=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title"},"Recoveries/Deaths"),r.a.createElement(S,{dataSet:a}))))},B=t(59),K=t(60),A=t(74),U=t(73),M=t(61),X=t.n(M),F=t(43),I=t.n(F),P=(t(86),function(e){Object(A.a)(t,e);var a=Object(U.a)(t);function t(){return Object(B.a)(this,t),a.apply(this,arguments)}return Object(K.a)(t,[{key:"isValidCase",value:function(e){return e>=0}},{key:"processMapData",value:function(e,a,t,n,r){var o=this,c=[];e.forEach((function(e,a){if(e.countryCode){var t=parseInt(e[n]);if(!r)return c.push([e.countryCode,o.isValidCase(t)?t:0]);if(r)return c.push([e.countryCode,t,parseInt(e.confirmedCasesToday),parseInt(e.active)||"N/A",parseInt(e.recovered)||"N/A",parseInt(e.deaths),parseInt(e.deathsToday)])}}));var l={},s=c.map((function(e){return e[1]})),i=Math.min.apply(null,s),d=Math.max.apply(null,s),m=I.a.scale.linear().domain([i,d]).range([a,t]);return c.forEach((function(e){var a=e[0],t=e[1];if(r){var n=e[2],o=e[3],c=e[4],s=e[5],i=e[6];l[a]={caseCount:t,confirmedCasesToday:n,active:o,recovered:c,deaths:s,deathsToday:i,fillColor:m(t)}}else l[a]={caseCount:t,fillColor:m(t)}})),l}},{key:"generateNewMap",value:function(e,a,t){return new X.a({element:document.getElementById("choroplethMap-".concat(a)),projection:"mercator",fills:{defaultFill:"#F5F5F5"},data:e,geographyConfig:{borderColor:"#DEDEDE",highlightBorderWidth:2,highlightFillColor:function(e){return e.fillColor||"#F5F5F5"},highlightBorderColor:"#B7B7B7",popupTemplate:function(e,n){var r='\n          <div class="hoverinfo">\n            <strong>'.concat(e.properties.name,"</strong>\n            <br>").concat(a,": <span>N/A</span>\n          </div>");return n&&!t?r='\n            <div class="hoverinfo">\n              <strong>'.concat(e.properties.name,"</strong>\n              <br>").concat(a,": <strong>").concat(n.caseCount.toLocaleString(),"</strong>\n            </div>"):n&&t&&(r='\n            <div class="hoverinfo">\n              <strong>'.concat(e.properties.name,"</strong>\n              <br>").concat(a,": <strong>").concat(n.caseCount.toLocaleString(),"</strong>\n              <br>Confirmed today: <span>").concat(n.confirmedCasesToday.toLocaleString(),"</span>\n              <br>Active: <span>").concat(n.active.toLocaleString(),"</span>\n              <br>Recovered: <span>").concat(n.recovered.toLocaleString(),"</span>\n              <br>Deaths: <span>").concat(n.deaths.toLocaleString(),"</span>\n              <br>Deaths today: <span>").concat(n.deathsToday.toLocaleString(),"</span>\n            </div>")),r}}})}},{key:"componentDidUpdate",value:function(e){if(this.props.date!==e.date){var a=this.props.data,t=this.props.lightColour,n=this.props.darkColour,r=this.props.caseType,o=this.props.showMoreThanOneDataItem||!1,c=this.processMapData(a,t,n,r,o);this.map.updateChoropleth(c)}}},{key:"componentDidMount",value:function(){var e=this.props.data,a=this.props.mapDataLabel,t=this.props.lightColour,n=this.props.darkColour,r=this.props.caseType,o=this.props.showMoreThanOneDataItem||!1,c=this.processMapData(e,t,n,r,o);this.map=this.generateNewMap(c,a,o)}},{key:"render",value:function(){var e=this.props.mapDataLabel;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"choroplethMap-".concat(e),className:"choroplethMap"}))}}]),t}(n.Component)),R=t(22);function G(){var e=Object(R.a)(["\nquery GlobalCases($day: String!) {\n  getGlobalCasesByDate(day: $day) {\n    countryCode\n    confirmed\n    active\n    recovered\n    deaths\n    confirmedCasesToday\n    deathsToday\n  }\n}\n"]);return G=function(){return e},e}function H(){var e=Object(R.a)(["\n  query ProvincesGivenCountry($countryName: String!) {\n    getProvincesGivenCountryName(country: $countryName) {\n      province\n      idKey\n      active\n      confirmed\n      deaths\n      confirmedCasesToday\n      deathsToday\n      recovered\n    }\n  }\n"]);return H=function(){return e},e}function q(){var e=Object(R.a)(["\nquery GetCases($idKey: String!) {\n  getCasesByIdKey(idKey: $idKey){\n    country\n    province\n    confirmed\n    active\n    recovered\n    deaths\n    confirmedCasesToday\n    deathsToday\n    latitude\n    longitude\n    lastUpdate\n    casesByDate {\n      confirmed\n      deaths\n      confirmedCasesToday\n      deathsToday\n      day\n    }\n    provincesList {\n      idKey\n      province\n    }\n    hasProvince\n  }\n}\n"]);return q=function(){return e},e}function W(){var e=Object(R.a)(["\n  query {\n    casesByLocationWithNoProvince {\n      countryCode\n      confirmed\n      active\n      recovered\n      deaths\n      confirmedCasesToday\n      deathsToday\n    }\n  }\n"]);return W=function(){return e},e}function $(){var e=Object(R.a)(["\nquery {\n  totalCases {\n    confirmedCasesToday\n    deathsToday\n  }\n  topXconfirmedTodayByCountry(limit: 10) {\n    country\n    confirmedCasesToday\n  }\n  topXdeathsTodayByCountry(limit: 10) {\n    country\n    deathsToday\n  }\n  casesByLocationWithNoProvince {\n    countryCode\n    confirmedCasesToday\n    deathsToday\n  }\n}\n"]);return $=function(){return e},e}function V(){var e=Object(R.a)(["\nquery TopCases($limit: Int!) {\n    topXconfirmedByCountry(limit: $limit) {\n      country\n      confirmed\n    }\n    topXactiveByCountry(limit: $limit) {\n      country\n      active\n    }\n    topXrecoveredByCountry(limit: $limit) {\n      country\n      recovered\n    }\n    topXdeathsByCountry(limit: $limit) {\n      country\n      deaths\n    }\n    topXconfirmedTodayByCountry(limit: $limit) {\n      country\n      confirmedCasesToday\n    }\n    topXdeathsTodayByCountry(limit: $limit) {\n      country\n      deathsToday\n    }\n  }\n"]);return V=function(){return e},e}function _(){var e=Object(R.a)(["\nquery {\n  casesByLocationWithNoProvince {\n    idKey\n    country\n    confirmed\n    confirmedCasesToday\n    active\n    recovered\n    deaths\n    deathsToday\n    lastUpdate\n  }\n}\n"]);return _=function(){return e},e}function J(){var e=Object(R.a)(["\n  query {\n    casesByLocationWithNoProvince {\n      idKey\n      country\n    }\n  }\n"]);return J=function(){return e},e}function Z(){var e=Object(R.a)(["\nquery GetCases($idKeys: [String]!) {\n  getManyCasesByIdKey(idKeys: $idKeys){\n    idKey\n    country\n    province\n    confirmed\n    active\n    recovered\n    deaths\n    confirmedCasesToday\n    deathsToday\n    lastUpdate\n    casesByDate {\n      confirmed\n      deaths\n      confirmedCasesToday\n      deathsToday\n      day\n    }\n  }\n}\n"]);return Z=function(){return e},e}function z(){var e=Object(R.a)(["\n  query {\n    totalCases {\n      confirmed\n      active\n      recovered\n      deaths\n      confirmedCasesToday\n      deathsToday\n    }\n    globalTimeSeries {\n      confirmed\n      deaths\n      confirmedCasesToday\n      deathsToday\n      day\n    }\n    getAllDaysWithCases\n    topXconfirmedByCountry(limit: 5) {\n      country\n      confirmed\n    }\n    topXactiveByCountry(limit: 5) {\n      country\n      active\n    }\n    topXrecoveredByCountry(limit: 5) {\n      country\n      recovered\n    }\n    topXdeathsByCountry(limit: 5) {\n      country\n      deaths\n    }\n  }\n"]);return z=function(){return e},e}function Q(){var e=Object(R.a)(["\n  query {\n    lastUpdated\n    casesByLocation {\n      idKey\n      country\n      province\n    }\n  }\n"]);return Q=function(){return e},e}var Y=Object(l.b)(Q()),ee=Object(l.b)(z()),ae=Object(l.b)(Z()),te=Object(l.b)(J()),ne=Object(l.b)(_()),re=Object(l.b)(V()),oe=Object(l.b)($()),ce=Object(l.b)(W()),le=Object(l.b)(q()),se=Object(l.b)(H()),ie=Object(l.b)(G()),de=function(e,a,t){return Math.min(Math.max(e,a),t)},me=[],ue=function(e){var a=e.dates,t=a.length,o=Object(n.useState)(t),c=Object(y.a)(o,2),l=c[0],s=c[1];me[l]=!0;var m,u=a[l-1],p=new Date(u),v=Object(i.a)(ie,{variables:{day:u}}),h=v.loading,b=v.error,f=v.data,g=v.client,E=function(e){e=parseInt(e);for(var n=de(e-5,0,t),r=de(e+5,0,t),o=n;o<r;o++){if(!me[o]){var c=a[o];g.query({query:ie,variables:{day:c}}),me[o]=!0}}};if(h)m=r.a.createElement(P,{mapDataLabel:"Confirmed",showMoreThanOneDataItem:!0,caseType:"confirmed",data:[],date:"",lightColour:"#ffeaef",darkColour:"#ff6384"});else if(b)m=r.a.createElement(d,{errorData:b});else{var C=f.getGlobalCasesByDate;m=r.a.createElement(P,{mapDataLabel:"Confirmed",showMoreThanOneDataItem:!0,caseType:"confirmed",data:C,date:u,lightColour:"#ffeaef",darkColour:"#ff6384"})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-light mb-3"},r.a.createElement("div",{className:"card-body pt-0"},m,r.a.createElement("div",{className:"heatmapSliderHeader d-flex justify-content-end"},r.a.createElement("span",null,"Confirmed cases on ",r.a.createElement("strong",null,p.toLocaleDateString()))),r.a.createElement("div",{className:"heatmapSliderControls"},r.a.createElement("input",{type:"range",className:"custom-range",min:"1",max:t,id:"heatMapDateSlider",value:l,onMouseOver:function(){E(l)},onChange:function(e){var a;a=e.target.value,s(a),E(a)}})))))},ye=function(e){var a=e.data,t=e.id,o=e.chartTitle,c=e.chartLabel,l=e.chartLabelKey,s=e.labelColor,i=r.a.createRef(),d=a.map((function(e){return{x:e.country,y:e[l]}})),m=a.map((function(e){return e.country})),u=f[s],y={type:"bar",data:{labels:m,datasets:[{label:c,backgroundColor:u,borderColor:u,data:d,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{labels:!1},title:{display:!0,text:o},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"";return t&&(t+=": "),t+=e.yLabel.toLocaleString(),t}}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Country"}}],yAxes:[{display:!0,type:"linear",scaleLabel:{display:!0,labelString:"Number of cases"},ticks:{beginAtZero:!0,callback:function(e){return e.toLocaleString()}}}]}}};return Object(n.useEffect)((function(){var e=i.current.getContext("2d"),a=new v.a(e,y);return function(){return a.destroy()}}),[i,y]),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"chart barGraph topx",id:t},r.a.createElement("canvas",{id:"canvas",ref:i})))},pe=function(e,a){return e.filter((function(e){return e[a]>0}))},ve=function(e){var a=e.data,t=e.includeToday;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ye,{data:pe(a.topXconfirmedByCountry.data,"confirmed"),id:"top5confirmed",chartTitle:a.topXconfirmedByCountry.label,chartLabel:"Confirmed",chartLabelKey:"confirmed",labelColor:"red"}),r.a.createElement(ye,{data:pe(a.topXactiveByCountry.data,"active"),id:"top5active",chartTitle:a.topXactiveByCountry.label,chartLabel:"Active",chartLabelKey:"active",labelColor:"blue"})),r.a.createElement("div",{className:"row"},r.a.createElement(ye,{data:pe(a.topXrecoveredByCountry.data,"recovered"),id:"top5recovered",chartTitle:a.topXrecoveredByCountry.label,chartLabel:"Recovered",chartLabelKey:"recovered",labelColor:"green"}),r.a.createElement(ye,{data:pe(a.topXdeathsByCountry.data,"deaths"),id:"top5deaths",chartTitle:a.topXdeathsByCountry.label,chartLabel:"Deaths",chartLabelKey:"deaths",labelColor:"grey"})),t&&r.a.createElement("div",{className:"row"},r.a.createElement(ye,{data:pe(a.topXconfirmedTodayByCountry.data,"confirmedCasesToday"),id:"top5recovered",chartTitle:a.topXconfirmedTodayByCountry.label,chartLabel:"Confirmed cases today",chartLabelKey:"confirmedCasesToday",labelColor:"purple"}),r.a.createElement(ye,{data:pe(a.topXdeathsTodayByCountry.data,"deathsToday"),id:"top5deaths",chartTitle:a.topXdeathsTodayByCountry.label,chartLabel:"Deaths today",chartLabelKey:"deathsToday",labelColor:"yellow"})))},he=function(e){var a=e.title,t=e.lastUpdated,n=Object(i.a)(ee),o=n.loading,c=n.error,l=n.data;if(o)return r.a.createElement("p",null,"Loading data for dashboard ...");if(c)return r.a.createElement(d,{errorData:c});var s=l.totalCases,m=l.globalTimeSeries,u=l.getAllDaysWithCases,y={topXconfirmedByCountry:{data:l.topXconfirmedByCountry,label:"Top 5 confirmed by country"},topXactiveByCountry:{data:l.topXactiveByCountry,label:"Top 5 active by country"},topXrecoveredByCountry:{data:l.topXrecoveredByCountry,label:"Top 5 recovered by country"},topXdeathsByCountry:{data:l.topXdeathsByCountry,label:"Top 5 deaths by country"}},p=[{data:s.confirmed,label:"confirmed",color:"red"},{data:s.confirmed-s.active,label:"active",color:"blue"}],v=[{data:s.recovered,label:"recovered",color:"green"},{data:s.deaths,label:"deaths",color:"progressBadGrey"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,a)),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:t})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(w,{caseCount:s.confirmed})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(x,{caseCount:s.active})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(L,{caseCount:s.recovered})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(D,{caseCount:s.deaths}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(k,{caseCount:s.confirmedCasesToday})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(T,{caseCount:s.deathsToday}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(j,{data:p})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(O,{data:v}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(ue,{dates:u}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(E,{chartTitle:"Global time series cases by day",casesToHide:{confirmed:!1,deaths:!1,confirmedToday:!1,confirmedTodayMovingAverage:!0,deathsToday:!1,deathsTodayMovingAverage:!0},data:m,currentCases:s}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(E,{chartTitle:"Global time series daily cases by day",casesToHide:{confirmed:!0,deaths:!0,confirmedToday:!1,confirmedTodayMovingAverage:!1,deathsToday:!1,deathsTodayMovingAverage:!1},data:m,currentCases:s}))),r.a.createElement(ve,{data:y}))},be=function(e){var a=Object(u.h)().id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:a,className:""},r.a.createElement("h3",null,"Page cannot not found")),r.a.createElement("br",null),r.a.createElement("div",{className:"container-xl"},r.a.createElement("p",null,'The page at "',r.a.createElement("strong",null,"/",a),'" cannot be found.')))},fe=function(e){var a=e.countryName,t=e.data,o=e.id,c=r.a.createRef(),l=[],s=[],i=[],d=[],m=[],u=[],y=[];t.forEach((function(e){"mainland"!==e.province&&e.province!==a&&(l.push({x:e.province,y:e.confirmed}),s.push({x:e.province,y:e.confirmedCasesToday}),i.push({x:e.province,y:e.active}),d.push({x:e.province,y:e.recovered}),m.push({x:e.province,y:e.deaths}),u.push({x:e.province,y:e.deathsToday}),y.push(e.province))}));var p={type:"bar",data:{labels:y,datasets:[{label:"Confirmed",backgroundColor:f.red,borderColor:f.red,data:l,fill:!1,hidden:!1},{label:"Active",backgroundColor:f.blue,borderColor:f.blue,data:i,fill:!1,hidden:!0},{label:"Recovered",backgroundColor:f.green,borderColor:f.green,data:d,fill:!1,hidden:!0},{label:"Deaths",backgroundColor:f.grey,borderColor:f.grey,data:m,fill:!1,hidden:!1},{label:"Confirmed today",backgroundColor:f.purple,borderColor:f.purple,data:s,fill:!1,hidden:!0},{label:"Deaths today",backgroundColor:f.yellow,borderColor:f.yellow,data:u,fill:!1,hidden:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{labels:!1},title:{display:!0,text:"Cases by each province/state of ".concat(a)},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"";return t&&(t+=": "),t+=e.yLabel.toLocaleString(),t}}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Province/state"}}],yAxes:[{display:!0,type:"linear",scaleLabel:{display:!0,labelString:"Number of cases"},ticks:{beginAtZero:!0,callback:function(e){return e.toLocaleString()}}}]}}};return Object(n.useEffect)((function(){var e=c.current.getContext("2d"),a=new v.a(e,p);return function(){return a.destroy()}}),[c,p]),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"chart provinces barGraph",id:o},r.a.createElement("canvas",{id:"canvas",ref:c})))},ge=function(e){var a=e.countryName,t=e.idKey,n=Object(i.a)(se,{variables:{countryName:a}}),o=n.loading,c=n.error,l=n.data;if(o)return r.a.createElement("p",null,"Loading provinces data ...");if(c)return r.a.createElement(d,{errorData:c});var s=[];l&&(s=[{idKey:a.replace(/,/g,"").replace(/\s+/g,"-").toLowerCase(),province:a}].concat(l.getProvincesGivenCountryName));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm provinceNav"},s.length>0&&r.a.createElement("ul",{className:"nav"},s.map((function(e,a){var n="nav-item provinceNavLink";return e.idKey===t&&(n="nav-item provinceNavLink active disabled"),r.a.createElement("li",{className:n,key:a},r.a.createElement(m.b,{className:"nav-link",to:e.idKey},"".concat(e.province)))}))))),r.a.createElement("div",{className:"row"},r.a.createElement(fe,{countryName:a,data:s,id:"provinceBarChart"})))},Ee=function(){var e=Object(u.h)().id,a=Object(i.a)(le,{variables:{idKey:e}}),t=a.loading,n=a.error,o=a.data;if(t)return r.a.createElement("p",null,"Loading data for dashboard ...");if(n)return r.a.createElement(d,{errorData:n});var c=o&&o.getCasesByIdKey[0];if(!c)return r.a.createElement(be,null);var l,s,m=c.lastUpdate,y=e,p=[{data:c.confirmed,label:"confirmed",color:"red"},{data:c.confirmed-c.active,label:"active",color:"blue"}],v=[{data:c.recovered,label:"recovered",color:"green"},{data:c.deaths,label:"deaths",color:"progressBadGrey"}],h={confirmed:c.confirmed,active:c.active,recovered:c.recovered,deaths:c.deaths,confirmedCasesToday:c.confirmedCasesToday,deathsToday:c.deathsToday},b=(l=c.country,(s=c.province)?"".concat(l," - ").concat(s):"".concat(l));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:y,className:""},r.a.createElement("h3",null,b)),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:m})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(w,{caseCount:h.confirmed})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(x,{caseCount:h.active})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(L,{caseCount:h.recovered})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(D,{caseCount:h.deaths}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(k,{caseCount:h.confirmedCasesToday})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(T,{caseCount:h.deathsToday}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(j,{data:p})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(O,{data:v}))),(c.province||c.hasProvince)&&r.a.createElement(ge,{countryName:c.country,idKey:y}),c.casesByDate&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(E,{chartTitle:"Time series cases by day for ".concat(b),casesToHide:{confirmed:!1,deaths:!1,confirmedToday:!1,confirmedTodayMovingAverage:!0,deathsToday:!1,deathsTodayMovingAverage:!0},data:c.casesByDate,currentCases:h}))),r.a.createElement("br",null),c.casesByDate&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(E,{chartTitle:"Time series daily cases by day for ".concat(b),casesToHide:{confirmed:!0,deaths:!0,confirmedToday:!1,confirmedTodayMovingAverage:!1,deathsToday:!1,deathsTodayMovingAverage:!1},data:c.casesByDate,currentCases:h}))))},Ce=[5,10,15,20],Ne=Ce[1],Te=function(e,a){try{var t=parseInt(a);return e.includes(t)?t:e[1]}catch(n){return console.error(n),e[1]}},ke=function(e,a){return new URLSearchParams(e.search).get(a)},we=function(e){var a=e.lastUpdated,t=Object(u.f)(),o=Object(u.g)(),c=ke(o,"top");c&&(Ne=Te(Ce,c));var l=Object(n.useState)(Ne),s=Object(y.a)(l,2),m=s[0],p=s[1];Object(n.useEffect)((function(){return t.listen((function(e){var a=ke(e,"top"),t=null;if(a)try{t=Te(Ce,a)}catch(b){console.error(b)}p(t||10)}))}),[t,m]);var v=Object(i.a)(re,{variables:{limit:m}}),h=v.loading,b=v.error,f=v.data,g=v.client;if(h)return r.a.createElement("p",null,"Loading data for dashboard ...");if(b)return r.a.createElement(d,{errorData:b});var E=function(e){m!==e&&(p(e),t.push("?".concat(function(e,a){var t=new URLSearchParams;return t.set(a,e.limit),t.toString()}({limit:e},"top"))))},C={topXconfirmedByCountry:{data:f.topXconfirmedByCountry,label:"Top ".concat(m," confirmed by country")},topXactiveByCountry:{data:f.topXactiveByCountry,label:"Top ".concat(m," active by country")},topXrecoveredByCountry:{data:f.topXrecoveredByCountry,label:"Top ".concat(m," recovered by country")},topXdeathsByCountry:{data:f.topXdeathsByCountry,label:"Top ".concat(m," deaths by country")},topXconfirmedTodayByCountry:{data:f.topXconfirmedTodayByCountry,label:"Top ".concat(m," confirmed cases today by country")},topXdeathsTodayByCountry:{data:f.topXdeathsTodayByCountry,label:"Top ".concat(m," deaths today by country")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,"Top ",m," cases globally")),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:a})),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"btn-toolbar justify-content-center",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons",onMouseOver:function(){Ce.forEach((function(e){g.query({query:re,variables:{limit:e}})}))}},Ce.map((function(e){return r.a.createElement("label",{key:e,className:"btn btn-sm btn-light ".concat(m===e?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){E(e)}})," Top ",e)})))))),r.a.createElement("div",{className:"top-tab-container"},r.a.createElement(ve,{data:C,includeToday:!0})))},xe=function(e,a){return e.filter((function(e){return e[a]>0}))},Le={confirmedCasesToday:{label:"Confirmed cases today",lightColour:"#efedf5",darkColour:"#756bb1",textClassName:"confirmedTodayText"},deathsToday:{label:"Confirmed deaths today",lightColour:"#fff7bc",darkColour:"#d95f0e",textClassName:"deathsTodayText"}},De="confirmedCasesToday",Se=function(e,a){var t=Object.keys(e);return t.includes(a)?a:t[0]},je=function(e,a){return new URLSearchParams(e.search).get(a)},Oe=function(e){var a=e.title,t=e.lastUpdated,o=Object(u.g)(),c=Object(u.f)(),l=je(o,"mapType");l&&(De=Se(Le,l));var s=Object(n.useState)(De),m=Object(y.a)(s,2),p=m[0],v=m[1];Object(n.useEffect)((function(){return c.listen((function(e){var a=je(e,"mapType"),t=null;if(a)try{t=Se(Le,a)}catch(f){console.error(f)}v(t||"confirmedCasesToday")}))}),[p,c]);var h=Object(i.a)(oe),b=h.loading,f=h.error,g=h.data;if(b)return r.a.createElement("p",null,"Loading data for dashboard ...");if(f)return r.a.createElement(d,{errorData:f});var E=function(e){p!==e&&(v(e),c.push("?".concat(function(e,a){var t=new URLSearchParams;return t.set(a,e.mapType),t.toString()}({mapType:e},"mapType"))))},C=g.totalCases,w=g.casesByLocationWithNoProvince;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,a," | ",(new Date).toLocaleDateString())),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:t})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(k,{caseCount:C.confirmedCasesToday})),r.a.createElement("div",{className:"col-sm"},r.a.createElement(T,{caseCount:C.deathsToday}))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"btn-toolbar justify-content-center",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},Object.keys(Le).map((function(e){var a=Le[e];return r.a.createElement("label",{key:a.label,className:"btn btn-sm btn-light ".concat(p===e?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){E(e)}}),a.label)})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{mapDataLabel:"Cases",caseType:p,date:p,data:w,lightColour:Le[p].lightColour,darkColour:Le[p].darkColour}))),r.a.createElement("div",{className:"row multiTopBar"},r.a.createElement(ye,{data:xe(g.topXconfirmedTodayByCountry,"confirmedCasesToday"),id:"top10confirmedToday",chartTitle:"Top 10 confirmed cases today by country",chartLabel:"Confirmed cases today",chartLabelKey:"confirmedCasesToday",labelColor:"purple"}),r.a.createElement(ye,{data:xe(g.topXdeathsTodayByCountry,"deathsToday"),id:"top10deathsToday",chartTitle:"Top 10 deaths today by country",chartLabel:"Deaths today",chartLabelKey:"deathsToday",labelColor:"yellow"})))},Be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer col-md-10 float-right mt-5 py-3"},r.a.createElement("div",{className:"container pull-left"},r.a.createElement("span",{className:"text-muted"},"Data sources: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/CSSEGISandData/COVID-19"},"JHU CSSE"),",\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://gisanddata.maps.arcgis.com/apps/opsdashboard/index.html#/bda7594740fd40299423467b48e9ecf6"},"John Hopkins University"),".\xa0")),r.a.createElement("div",{className:"container pull-right"},r.a.createElement("span",{className:"text-muted"},"Made by: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/mukundbhudia"},"Mukund"),",\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/salomao-rodrigues"},"Salom\xe3o"),".\xa0"))))},Ke={confirmed:{label:"Confirmed",lightColour:"#fee0d2",darkColour:"#de2d26",textClassName:"confirmedText"},active:{label:"Active",lightColour:"#deebf7",darkColour:"#3182bd",textClassName:"activeText"},recovered:{label:"Recovered",lightColour:"#e5f5e0",darkColour:"#31a354",textClassName:"recoveredText"},deaths:{label:"Deaths",lightColour:"#f0f0f0",darkColour:"#636363",textClassName:"deathsText"},confirmedCasesToday:{label:"Confirmed today",lightColour:"#efedf5",darkColour:"#756bb1",textClassName:"confirmedTodayText"},deathsToday:{label:"Deaths today",lightColour:"#fff7bc",darkColour:"#d95f0e",textClassName:"deathsTodayText"}},Ae="confirmed",Ue=function(e,a){var t=Object.keys(e);return t.includes(a)?a:t[0]},Me=function(e,a){return new URLSearchParams(e.search).get(a)},Xe=function(e){var a=e.title,t=e.lastUpdated,o=Object(u.g)(),c=Object(u.f)(),l=Me(o,"mapType");l&&(Ae=Ue(Ke,l));var s=Object(n.useState)(Ae),m=Object(y.a)(s,2),p=m[0],v=m[1];Object(n.useEffect)((function(){return c.listen((function(e){var a=Me(e,"mapType"),t=null;if(a)try{t=Ue(Ke,a)}catch(f){console.error(f)}v(t||"confirmed")}))}),[p,c]);var h=Object(i.a)(ce),b=h.loading,f=h.error,g=h.data;if(b)return r.a.createElement("p",null,"Loading data for dashboard ...");if(f)return r.a.createElement(d,{errorData:f});var E=function(e){p!==e&&(v(e),c.push("?".concat(function(e,a){var t=new URLSearchParams;return t.set(a,e.mapType),t.toString()}({mapType:e},"mapType"))))},C=g.casesByLocationWithNoProvince;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,a)),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:t})),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"btn-toolbar justify-content-center",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},Object.keys(Ke).map((function(e){var a=Ke[e];return r.a.createElement("label",{key:a.label,className:"btn btn-sm btn-light ".concat(p===e?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){E(e)}}),a.label)})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(P,{mapDataLabel:"Cases",caseType:p,date:p,data:C,lightColour:Ke[p].lightColour,darkColour:Ke[p].darkColour}))))},Fe={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',chart:'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',report:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>'},Ie=function(e){var a=e.path,t=e.label,n=e.icon,o=Object(u.i)({path:a,exact:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{className:o&&o.path===a?"nav-link active":"nav-link",to:a},n&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-home",dangerouslySetInnerHTML:{__html:Fe[n]}}),t))},Pe=t(72),Re=(t(108),function(e){var a=e.data,t={disabled:!1,dropup:!1,flip:!1,highlightOnlyResult:!1,minLength:2,open:void 0},n=Object(u.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,Object.assign({},t,{labelKey:function(e){var a=e.country;return null!==e.province&&(a+=" - ".concat(e.province)),a},onChange:function(e){e[0]&&n.push("/".concat(e[0].idKey))},options:a,className:"w-100",id:"searchBox",type:"text",placeholder:"Search for a country, state, province...","aria-label":"Search"})))}),Ge=function(e){var a=e.searchData,t=Object(n.useState)(!0),o=Object(y.a)(t,2),c=o[0],l=o[1],s=c?"collapse navbar-collapse":"collapse navbar-collapse show",i=c?"navbar-toggler collapsed":"navbar-toggler";return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-sm fixed-top navbar-dark bg-dark flex-md-nowrap p-0 shadow"},r.a.createElement("a",{className:"navbar-brand",href:"".concat(".","/")},"COVID-19 Dashboard"),r.a.createElement("button",{onClick:function(){l(!0!==c)},className:"".concat(i),type:"button","data-toggle":"collapse","data-target":"#navbarsExample04","aria-controls":"navbarsExample04","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"".concat(s),id:"navbarsExample04"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/",label:"Global"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/today",label:"Today"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/top-cases",label:"Top\xa0cases"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/compare",label:"Compare"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/heatmaps",label:"Heatmaps"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/table",label:"Data\xa0table"})))),r.a.createElement(Re,{data:a})))},He=function(e){var a=e.casesByLocation;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"col-md-2 d-none d-md-block sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/",label:"Global",icon:"home"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/today",label:"Today",icon:"chart"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/top-cases",label:"Top\xa0cases",icon:"chart"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/compare",label:"Compare",icon:"chart"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/heatmaps",label:"Heatmaps",icon:"report"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Ie,{path:"/table",label:"Data\xa0table",icon:"report"}))),r.a.createElement("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},r.a.createElement("span",null,"Reports by country")),r.a.createElement("ul",{className:"nav flex-column mb-2"},a&&a.sort((function(e,a){var t=e.country.toUpperCase(),n=a.country.toUpperCase(),r=0;return t>n?r=1:t<n&&(r=-1),r})).map((function(e){var a="";return null===e.province&&(a=r.a.createElement("li",{key:e.idKey,className:"nav-item"},r.a.createElement(m.b,{className:"nav-link",to:e.idKey},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text"},r.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.a.createElement("polyline",{points:"14 2 14 8 20 8"}),r.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.a.createElement("polyline",{points:"10 9 9 9 8 9"})),e.country))),a}))))))},qe=t(39),We=function(e){var a=e.sortConfig,t=e.tableData,n=Object(u.f)(),o=function(e){var t="asc";a&&a.sortKey===e&&"asc"===a.order&&(t="desc"),n.push("?".concat(function(e){var a=new URLSearchParams;return a.set("sort",e.sortKey),a.set("order",e.order),a.toString()}({sortKey:e,order:t})))},c=function(e){var t="";return a.sortKey===e&&(t="asc"===a.order?"(\u2191)":"(\u2193)"),t},l=function(e){var t="";return a.sortKey===e&&(t="selectedForSortColumn"),t},s=function(e){return a.sortKey===e?"sortableTableHeader sorted":"sortableTableHeader"},i=function(){var e=Object(qe.a)(t);return null!==a&&e.sort((function(e,t){return e[a.sortKey]<t[a.sortKey]?"asc"===a.order?-1:1:e[a.sortKey]>t[a.sortKey]?"asc"===a.order?1:-1:0})),e}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-sm table-responsive"},r.a.createElement("table",{className:"table table-sm table-hover sortable-data-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",className:s("country"),onClick:function(){return o("country")}},"Country ",c("country")),r.a.createElement("th",{scope:"col",className:s("confirmed"),onClick:function(){return o("confirmed")}},"Confirmed cases ",c("confirmed")),r.a.createElement("th",{scope:"col",className:s("confirmedCasesToday"),onClick:function(){return o("confirmedCasesToday")}},"Confrimed today ",c("confirmedCasesToday")),r.a.createElement("th",{scope:"col",className:s("active"),onClick:function(){return o("active")}},"Active ",c("active")),r.a.createElement("th",{scope:"col",className:s("recovered"),onClick:function(){return o("recovered")}},"Recovered ",c("recovered")),r.a.createElement("th",{scope:"col",className:s("deaths"),onClick:function(){return o("deaths")}},"Deaths ",c("deaths")),r.a.createElement("th",{scope:"col",className:s("deathsToday"),onClick:function(){return o("deathsToday")}},"Deaths today ",c("deathsToday")),r.a.createElement("th",{scope:"col",className:s("lastUpdate"),onClick:function(){return o("lastUpdate")}},"Last updated ",c("lastUpdate")))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.idKey},r.a.createElement("td",{className:l("country")},r.a.createElement(m.b,{to:e.idKey},e.country)),r.a.createElement("td",{className:l("confirmed")},e.confirmed.toLocaleString()),r.a.createElement("td",{className:l("confirmedCasesToday")},e.confirmedCasesToday.toLocaleString()),r.a.createElement("td",{className:l("active")},e.active.toLocaleString()),r.a.createElement("td",{className:l("recovered")},e.recovered.toLocaleString()),r.a.createElement("td",{className:l("deaths")},e.deaths.toLocaleString()),r.a.createElement("td",{className:l("deathsToday")},e.deathsToday.toLocaleString()),r.a.createElement("td",{className:l("lastUpdate")},C.a(new Date(parseInt(e.lastUpdate)))))}))))))},$e={sortKey:"country",order:"asc"},Ve=function(e){var a=e.title,t=e.lastUpdated,n=Object(u.g)(),o=new URLSearchParams(n.search),c=o.get("sort"),l=o.get("order");c&&l&&($e={sortKey:c,order:l});var s=Object(i.a)(ne),m=s.loading,y=s.error,p=s.data;return m?r.a.createElement("p",null,"Loading data for dashboard ..."):y?r.a.createElement(d,{errorData:y}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,a)),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:t})),r.a.createElement("div",{className:"row"},r.a.createElement(We,{sortConfig:$e,tableData:p.casesByLocationWithNoProvince})))},_e=Object.keys(g),Je=function(e){var a=e.chartTitle,t=e.casesToHide,o=e.data,c=e.currentCases,l=r.a.createRef(),s=Object(n.useState)("linear"),i=Object(y.a)(s,2),d=i[0],m=i[1],u=Object(n.useState)("line"),p=Object(y.a)(u,2),h=p[0],f=p[1],E=Object(n.useState)(7),C=Object(y.a)(E,2),N=C[0],T=C[1],k=[],w=[];o.forEach((function(e,a){var t=[],n=[],r=[],o=[],l=function(e,a){t.push({x:e,y:a.confirmed}),r.push({x:e,y:a.deaths}),n.push({x:e,y:a.confirmedCasesToday}),o.push({x:e,y:a.deathsToday})};e.casesByDate.forEach((function(a){var t=new Date(a.day);k.length<e.casesByDate.length&&k.push(t.toLocaleDateString()),l(t,a)}));var s=new Date;k.length<=e.casesByDate.length&&k.push(s.toLocaleDateString()),l(s,c[a]);var i=e.casesByDate.map((function(e){return e.confirmedCasesToday})),d=e.casesByDate.map((function(e){return e.deathsToday})),m=b(i,N),u=b(d,N),y=k.map((function(e,a){return{x:new Date(e),y:m[a]}})),p=k.map((function(e,a){return{x:new Date(e),y:u[a]}}));w.push({country:e.country,confirmed:t,confirmedToday:n,deaths:r,deathsToday:o,movingAverageConfirmedTodayChartData:y,movingAverageDeathsTodayChartData:p,dataSetColour:g[_e[a]]})}));var x={type:h,data:{labels:k,datasets:function(e){var a=[];return e.forEach((function(e){a.push({type:h,label:"Cumulative confirmed cases ".concat(e.country),fill:!1,backgroundColor:e.dataSetColour,borderColor:e.dataSetColour,order:0,data:e.confirmed,hidden:t.confirmed},{type:h,label:"Cumulative deaths ".concat(e.country),fill:!1,backgroundColor:e.dataSetColour,borderColor:e.dataSetColour,order:1,data:e.deaths,hidden:t.deaths},{type:"line",label:"Daily confirmed ".concat(N," day moving average ").concat(e.country),fill:!1,backgroundColor:e.dataSetColour,borderColor:e.dataSetColour,order:2,data:e.movingAverageConfirmedTodayChartData.slice(3,-3),hidden:t.confirmedTodayMovingAverage},{type:"line",label:"Daily deaths ".concat(N," day moving average ").concat(e.country),fill:!1,backgroundColor:e.dataSetColour,borderColor:e.dataSetColour,order:4,data:e.movingAverageDeathsTodayChartData.slice(3,-3),hidden:t.deathsTodayMovingAverage})})),a}(w)},options:{legend:{display:!1,position:"bottom"},responsive:!0,maintainAspectRatio:!1,animation:{duration:0},title:{display:!0,text:a},tooltips:{mode:"nearest",intersect:!1,callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"";return t&&(t+=": "),t+=e.yLabel.toLocaleString(),t}}},elements:{point:{radius:0}},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Date"}}],yAxes:[{display:!0,type:d,scaleLabel:{display:!0,labelString:"Number of cases"},ticks:{beginAtZero:!0,callback:function(e){return e.toLocaleString()}}}]}}};return Object(n.useEffect)((function(){var e=l.current.getContext("2d"),a=new v.a(e,x);return function(){return a.destroy()}}),[l,x]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chart timeSeries"},r.a.createElement("canvas",{className:"canvas",ref:l})),r.a.createElement("div",{className:"btn-toolbar justify-content-end",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-tip":"Moving average period in days (".concat(N,")")},r.a.createElement("input",{type:"range",className:"movingAverage custom-range",min:"1",max:30,id:"movingAverageSlider",value:N,onChange:function(e){T(e.target.value)}})),r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("linear"===d?"active":"")},r.a.createElement("input",{type:"radio",name:"data-type",onClick:function(){m("linear")}})," Linear"),r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("logarithmic"===d?"active":"")},r.a.createElement("input",{type:"radio",name:"data-type",onClick:function(){m("logarithmic")}})," Logarithmic")),r.a.createElement("div",{className:"btn-group btn-group-toggle mr-1","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("line"===h?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){f("line")}})," Line"),r.a.createElement("label",{className:"btn btn-sm btn-light ".concat("bar"===h?"active":"")},r.a.createElement("input",{type:"radio",name:"chart-type",onClick:function(){f("bar")}})," Bar"))))},Ze=function(e){e.lastUpdated;var a,t,n,o,c=e.countries,l=Object(i.a)(ae,{variables:{idKeys:c}}),s=l.loading,m=l.error,u=l.data;if(s)t=a=r.a.createElement(Je,{chartTitle:"Time series daily cases by day",casesToHide:{},data:[],currentCases:[]}),n=a,o=a;else if(m)t=a=r.a.createElement(d,{errorData:m}),n=a,o=a;else{var y=u&&u.getManyCasesByIdKey,p=y.map((function(e){return e.country})).join(", "),v=y.map((function(e){return{idKey:e.idKey,country:e.country,confirmed:e.confirmed,active:e.active,recovered:e.recovered,deaths:e.deaths,confirmedCasesToday:e.confirmedCasesToday,deathsToday:e.deathsToday}}));a=r.a.createElement(Je,{chartTitle:"Time series cumulative confirmed cases by day for ".concat(p),casesToHide:{confirmed:!1,deaths:!0,confirmedToday:!0,confirmedTodayMovingAverage:!0,deathsToday:!0,deathsTodayMovingAverage:!0},data:y,currentCases:v}),t=r.a.createElement(Je,{chartTitle:"Time series cumulative deaths by day for ".concat(p),casesToHide:{confirmed:!0,deaths:!1,confirmedToday:!0,confirmedTodayMovingAverage:!0,deathsToday:!0,deathsTodayMovingAverage:!0},data:y,currentCases:v}),n=r.a.createElement(Je,{chartTitle:"Daily cumulative deaths by day for ".concat(p),casesToHide:{confirmed:!0,deaths:!0,confirmedToday:!0,confirmedTodayMovingAverage:!1,deathsToday:!0,deathsTodayMovingAverage:!0},data:y,currentCases:v}),o=r.a.createElement(Je,{chartTitle:"Daily cumulative deaths by day for ".concat(p),casesToHide:{confirmed:!0,deaths:!0,confirmedToday:!0,confirmedTodayMovingAverage:!0,deathsToday:!0,deathsTodayMovingAverage:!1},data:y,currentCases:v})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h6",null,"Cumulative confirmed cases")),a)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h6",null,"Cumulative deaths")),t)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h6",null,"Daily confirmed moving average")),n)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h6",null,"Daily deaths moving average")),o)))},ze=function(e){return e.filter((function(e){return e.checked})).map((function(e){return e.idKey}))},Qe=new Set,Ye=0,ea=function(e){var a=e.countries,t=Object(u.f)(),o=Object(u.g)(),c=new URLSearchParams(o.search).get("countries");if(c){if((Qe=new Set(c.split(","))).size>6){var l=0;Qe.forEach((function(e){l>=6&&Qe.delete(e),l++}))}a.forEach((function(e){Qe.has(e.idKey)?e.checked=!0:e.checked=!1}))}var s=Object(n.useState)(a),i=Object(y.a)(s,2),d=i[0],m=i[1];Ye=ze(d).length;var p=function(e,a){var n=function(e,a,t){return!0===a?e.forEach((function(e,n){e.idKey===t&&(e.checked=a)})):e.forEach((function(e){e.idKey===t&&(e.checked=a)})),e}(Object(qe.a)(d),e,a);m(n),t.push("?".concat(function(e){var a=new URLSearchParams;return a.set("countries",e.countries.toString()),a.toString()}({countries:ze(d)})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-sm"},r.a.createElement("p",null,"Compare countries with one another.\xa0",r.a.createElement("span",{style:{fontWeight:Ye<6?"unset":"bold"}},Ye)," out of a maximum of ",r.a.createElement("strong",null,6)," chosen:"),r.a.createElement("div",{className:"btn-toolbar justify-content-center",role:"toolbar","aria-label":"Toolbar with button groups"},r.a.createElement("div",{className:"","data-toggle":"buttons"},d.map((function(e,a){return r.a.createElement("div",{key:e.idKey,className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineCheckbox".concat(a),value:"option".concat(a),onChange:function(a){p(a.target.checked,e.idKey)},defaultChecked:e.checked,disabled:!(e.checked||Ye<6)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"inlineCheckbox".concat(a)},e.country))})))))),r.a.createElement(Ze,{countries:ze(d)}))},aa=[],ta=function(e){var a=e.lastUpdated,t=(e.countries,Object(i.a)(te)),n=t.loading,o=t.error,c=t.data;return n?r.a.createElement("p",null,"Loading data for dashboard ..."):o?r.a.createElement(d,{errorData:o}):(aa=c.casesByLocationWithNoProvince.filter((function(e,a){return"germany"===e.idKey||"mexico"===e.idKey||"peru"===e.idKey||"south-africa"===e.idKey?e.checked=!0:e.checked=!1,e})).sort((function(e,a){var t=e.country.toUpperCase(),n=a.country.toUpperCase(),r=0;return t>n?r=1:t<n&&(r=-1),r})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"global-page",className:""},r.a.createElement("h3",null,"Compare countries")),r.a.createElement("div",{className:"row"},r.a.createElement(N,{lastUpdated:a})),r.a.createElement(ea,{countries:aa})))},na=function(e){var a=e.casesByLocation,t=e.lastUpdated;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{basename:"."},r.a.createElement(Ge,{searchData:a}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(He,{casesByLocation:a}),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4"},r.a.createElement("div",{className:"container-xl"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(he,{title:"Global",lastUpdated:t})),r.a.createElement(u.a,{path:"/top-cases",children:r.a.createElement(we,{lastUpdated:t})}),r.a.createElement(u.a,{path:"/compare",children:r.a.createElement(ta,{lastUpdated:t,countries:a})}),r.a.createElement(u.a,{path:"/today",children:r.a.createElement(Oe,{title:"Today's cases",lastUpdated:t})}),r.a.createElement(u.a,{path:"/heatmaps",children:r.a.createElement(Xe,{title:"Heatmaps",lastUpdated:t})}),r.a.createElement(u.a,{path:"/table",children:r.a.createElement(Ve,{title:"Data Table",lastUpdated:t})}),r.a.createElement(u.a,{path:"/:id",children:r.a.createElement(Ee,{lastUpdated:t})}),r.a.createElement(u.a,{path:"*"},r.a.createElement(be,null))))))),r.a.createElement(Be,null)))},ra=function(){var e,a=Object(i.a)(Y),t=a.loading,n=a.error,o=a.data;if(t)e=r.a.createElement(na,{casesByLocation:[],lastUpdated:""});else if(n)e=r.a.createElement(d,{errorData:n});else{var c=o.lastUpdated,l=o.casesByLocation;e=r.a.createElement(na,{casesByLocation:l,lastUpdated:c})}return e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oa=new l.a({uri:"".concat("https://covid19-dash-api.herokuapp.com","/graphql")});c.a.render(r.a.createElement(s.a,{client:oa},r.a.createElement(ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,a,t){e.exports=t(109)},81:function(e,a,t){},82:function(e,a,t){},86:function(e,a,t){}},[[75,1,2]]]);